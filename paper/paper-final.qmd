---
title: "Understanding Subsidy Allocation in Toronto’s Child Care Centres: Insights from a Logistic Regression Analysis"
subtitle: "Non-Profit Governance, Program Participation, and Capacity Drive Funding Decisions"
author: 
  - Claire Ma
thanks: "Code and data are available at: [https://github.com/RohanAlexander/starter_folder](https://github.com/RohanAlexander/starter_folder)."
date: today
date-format: long
abstract: "This study examines the factors influencing government subsidy allocation to licensed child care centres in Toronto based on Licened child Care Centers from Open Data Toronto. By employing a logistic regression model, we found that non-profit governance, participation in the Canada-Wide Early Learning and Child Care (CWELCC) program, and larger capacity significantly increase a centre's likelihood of receiving subsidies. These findings highlight how funding priorities align with public goals to expand access to high-quality child care, especially for vulnerable populations. By uncovering patterns in subsidy distribution, this research provides critical insights for policymakers to ensure more equitable and effective resource allocation."
format: pdf
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false
library(opendatatoronto)
library(tidyverse)
library(readr)
library(dplyr)
library(tidyr)
library(stats)
library(ggplot2)
library(glmnet)
library(caret)
library(stats)
library(car)
library(broom)
library(pROC)
library(kableExtra)
library(knitr)
library(modelsummary)
library(here)
library(gt)
library(arrow)
library(ggcorrplot)
```

# Introduction

Child care subsidies play a critical role in making high-quality early childhood education and care accessible to families and communities. In Toronto, licensed child care centres serve as essential providers, offering regulated and professional environments that support child development. Subsidies for licensed child care centres help close the affordability gap by offsetting the high costs of quality care, making it accessible to more families [@cleveland2009nonprofit]. These subsidies not only ease the financial burden on families but also ensure that children have access to nurturing environments that foster cognitive, social, and emotional growth during their formative years [@vines2020accessing]. Understanding the factors that determine which licensed centres receive subsidies is crucial for policymakers and stakeholders to promote equitable resource allocation and maximize the benefits of early childhood programs.

Licensed child care centres in urban settings like Toronto play a pivotal role in delivering high-quality, structured child care. These centres adhere to stringent regulations, ensuring compliance with standards for safety, staffing, and curriculum. Research highlights that children attending licensed centres, particularly those supported by subsidies, experience better developmental outcomes. Subsidized centres provide professional environments with trained educators, comprehensive programming, and age-appropriate resources, offering children a strong foundation for lifelong learning and success. Subsidies are a cornerstone of this ecosystem, enabling licensed centres to cover operational costs, retain qualified staff, and maintain compliance with regulatory standards, all of which enhance the quality of care provided.

Despite their importance, disparities in the allocation of subsidies remain a significant concern. Research indicates that centres in certain neighborhoods or serving specific populations may receive fewer subsidies, even when demand is high [@Johnson_Ryan_Brooks_2012]. Additionally, characteristics such as enrollment capacity, accreditation status, and program focus (e.g., infant care versus pre-kindergarten) often influence a centre’s eligibility and prioritization for funding. These discrepancies highlight the need for a data-driven approach to understanding and improving the distribution of subsidies among licensed child care centres, ensuring that resources are allocated equitably to maximize their impact.

This study utilizes the Toronto Open Data: Licensed Child Care Centres dataset to explore the factors that affect subsidy allocation to licensed centres. By analyzing variables such as ward, operating auspice (Commercial, Non Profit or Public), CWELCC, type of building, and total space, this research aims to uncover the question - “What factors influence the allocation of subsidies to licensed child care centres in Toronto?”. The findings will contribute to informing policies that promote equity and efficiency in subsidy allocation, ultimately supporting the goals of accessible and high-quality child care in Toronto. Additionally, these insights can serve as a valuable tool for child care centres to self-assess and enhance their eligibility for subsidies.

Using a logistic regression model, the analysis identifies three key predictors of subsidy allocation: non-profit governance, participation in the Canada-Wide Early Learning and Child Care (CWELCC) program, and licensed capacity. The findings reveal that centres operated by non-profit organizations are significantly more likely to receive subsidies, reflecting a policy preference for supporting entities that prioritize social objectives over profit motives. Participation in the CWELCC program emerges as the strongest predictor, highlighting the importance of alignment with affordability initiatives in determining funding priorities. Additionally, larger centres with greater licensed capacity are moderately more likely to receive subsidies, indicating that operational scale plays a role in funding decisions, though it is less significant than governance and policy alignment. These findings underscore the need for policies that address disparities in subsidy distribution while ensuring that funding supports accessible, high-quality child care for families across Toronto.

The remainder of this paper is structured as follows. @sec-data describes the dataset used for the analysis, including its source, key variables, and preprocessing steps, emphasizing its real-world context and relevance to understanding subsidy allocation in Toronto's child care system. @sec-model details the logistic regression model employed in the study, including the rationale for its selection, mathematical formulation, and key predictors. The model assumptions, diagnostics, and validation methods are also discussed to ensure robustness and reliability. @sec-results contains the results of the logistic regression analysis are presented, highlighting the significant predictors of subsidy allocation, ass well as the model's fit. @sec-discussion discusses what was done in this study, giving detailed explanation of implications of the findings, limitations and suggestion for future studies.Furthermore, an appendix including supplementary materials and data collection evaluation is provided to ensure transparency and reproducibility.

# Data {#sec-data}

## Data Overview

The dataset used in this study was sourced from the [@citeopendatatoronto; @] made publicly available by the City of Toronto. This original raw dataset provides detailed information about licensed child care centres, including 20 variables capturing aspects of their location, operating auspice (e.g., non-profit, public, or commercial), space usage, building type, participation in government programs such as the Canada-Wide Early Learning and Child Care (CWELCC) system, and other operational details. These data offer valuable insights into the factors influencing subsidy allocation, a key policy tool for improving access to early childhood education and care. By translating real-world phenomena into structured data entries, this dataset enables a comprehensive exploration of equity and efficiency in child care funding. Detailed data collection analysis is in the Appendix. @tbl-overview visualized first 10 rows of cleaned data to be used in this study.

```{r, echo=FALSE, results='hide', message=FALSE, warning=FALSE}
data <- read_parquet(here("data","02-analysis_data","analysis_data.parquet"))
```

```{r}
#| label: tbl-overview
#| echo: false
#| warning: false
#| message: false
#| tbl-cap: "Sample of Cleaned Data"

# Create a GT table with the first 10 rows
data %>%
  head(10) %>%
  gt::gt() %>%
  gt::tab_header(
    title = "Overview of Cleaned Data",
    subtitle = "Displaying the first 10 rows"
  )
```

@fig-subsidy visualizes the distribution of subsidies among licensed child care centres in Toronto. The x-axis represents the subsidy status (0 = No, 1 = Yes), while the y-axis shows the count of centres in each category. This distribution highlights the government's prioritization of subsidies to a majority of licensed centres, reflecting efforts to enhance accessibility and affordability. However, the remaining non-subsidized centres indicate potential gaps or disparities in resource allocation, which could be further explored to ensure equitable funding.

所有 table caption fig-cap 要更长，要解释是什么图和图传递的主要信息。

```{r}
#| label: fig-subsidy
#| fig-cap: "Subsidy Allocation Distribution"
#| echo: false
#| message: false
#| warning: false

# Calculate percentages
data_summary <- data %>%
  group_by(subsidy) %>%
  summarise(count = n()) %>%
  mutate(percentage = round(100 * count / sum(count), 1))  # Calculate percentage

# Create the bar plot with percentage labels
plot1 <- ggplot(data_summary, aes(x = as.factor(subsidy), y = count)) +
  geom_bar(stat = "identity", fill = c("skyblue", "coral"), alpha = 0.8) +
  geom_text(aes(label = paste0(percentage, "%")), vjust = -0.5, size = 3) +  # Add percentage labels
  labs(
    title = "Distribution of Subsidy",
    x = "Subsidy (0 = No, 1 = Yes)",
    y = "Count"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(size = 9),  # Reduce title size
    axis.title = element_text(size = 10),  # Reduce axis title size
    axis.text = element_text(size = 8)    # Reduce axis text size
  )

plot1

```

few more graphs showing relationship between outcome and predictors

## Method

The dataset used for this study is the **`Licensed Child Care Centres dataset`**, sourced from the [@citeopendatatoronto] It provides detailed information about licensed child care centres in Toronto, capturing aspects such as their governance, capacity, infrastructure, and subsidy status. The original dataset consisted of 1071 records for all licensed child care centres within the city. For this analysis, the data underwent preprocessing to focus on variables relevant to the study, such as subsidy status, building type, CWELCC participation, total space, and operating auspice. These variables were retained to examine how different factors influence subsidy allocation. The dependent variable **`subsidy`**, originally recorded as "Yes"/"No," was encoded as 1 for subsidized and 0 for non-subsidized centres. Similarly, the **cwelcc_flag** variable was converted into a binary format (1 =Y, 0 =N). Categorical variables such as **building type** and **`AUSPICE`** were consolidated to simplify analysis and address sparse categories. Additionally, missing and irrelevant records were removed to ensure the dataset was both accurate and meaningful for the research objectives.
 
The data for this study was systematically downloaded, cleaned, analyzed, and visualized using **`R`** [@citeR], a statistical programming language. The following are major packages used for this study:

- `opendatatoronto`[@citeopendatatoronto]: Used to access and retrieve the Licensed Child Care Centres dataset directly from the City of Toronto's open data portal.

- `readr` [@citereadr]: Simplified the import and parsing of raw data into R.

- `tidyverse` [@citetidyverse]: Streamlined data manipulation, cleaning, and visualization processes.

- `dplyr` [@citedplyr]: Provided tools for filtering, transforming, and summarizing the dataset effectively.

- `ggplot2` [@citeggplot2]: Created powerful and flexible visualizations tailored to the analysis needs.

- `car` [@citecar]: Used for diagnostic tools, including Variance Inflation Factor (VIF) tests, to assess multicollinearity.

- `caret` [@citecaret]: Enabled the development, validation, and evaluation of machine learning models, including training-test splits and performance metrics.

- `glmnet` [@]: Applied for fitting regularized regression models and feature selection.

- `stargazer` [@citestagazer]: Generated formatted regression tables for outputs.

- `knitr` [@citeknitr]: Dynamically integrated code, results, and plots into the final document for seamless reporting.

## Measurement

This analysis focuses on the following variables, with a specific emphasis on subsidy as the dependent variable:

- `subsidy`: The binary dependent variable indicating whether a licensed child care centre receives a government subsidy.
- 1: The centre is subsidized.
- 0: The centre is not subsidized.
- `ward`: `A numeric variable representing the ward number for child care centres.
- `AUSPICE`: The operating auspice of the child care centre, describing its governance and operational model. Possible values include:
- Non-Profit: Centres operated by non-profit organizations, often reinvesting surplus revenues into quality improvements.
- Commercial: For-profit centres operated by private organizations.
- Public: Centres run by public agencies or school boards.
- `bldg_type`: The type of building where the child care centre operates, reflecting its infrastructure. 

Examples include:

- bldg_typeCommercial Building
- bldg_typeCommunity College/University     
- bldg_typeCommunity Health Centre
- bldg_typeCommunity Rec/Centre - Board Run
- bldg_typeCommunity/Rec Centre - City
- bldg_typeCommunity/Recreation Centre
- bldg_typeHigh Rise Apartment
- bldg_typeHospital/Health Centre
- bldg_typeHouse    
- bldg_typeIndustrial Building
- bldg_typeLow Rise Apartment
- bldg_typeOffice Building
- bldg_typeOther
- bldg_typePlace of Worship
- bldg_typePrivate Elementary School
- bldg_typePublic (school closed)
- bldg_typePublic Elementary Special
- bldg_typePublic High School
- bldg_typePublic Middle School
- bldg_typePurpose Built
- bldg_typeSynagogue

- `cwelcc_flag`: A binary variable indicating participation in the Canada-Wide Early Learning and Child Care (CWELCC) program:
- 1: The centre participates in CWELCC, enabling reduced child care fees.
- 0: The centre does not participate in CWELCC.
- `TOTSPACE`: A numerical variable representing the total licensed capacity (spaces available) for all age groups at a child care centre.

Detailed information about these variables’ information and data structure is presented in @tbl-overview.

The variables were carefully selected based on literature-supported relevance to subsidy allocation and their representation of real-world phenomena

@fig-relationbldgtype illustrates the distribution of subsidy status (1 = Subsidized, 0 = Not Subsidized) across various building types housing licensed child care centres. Notably, Public Schools, Purpose-Built Facilities, and Community Recreation Centres exhibit higher proportions of subsidized centres. These facilities are often designed to meet regulatory requirements for child care, including adequate space, safety standards, and accessibility, aligning closely with subsidy allocation policies [@cleveland2009nonprofit]. Conversely, building types such as Industrial Buildings, Private Elementary Schools, and Office Buildings show lower proportions of subsidized centres, likely due to infrastructure challenges or misalignment with subsidy eligibility criteria, such as limited accessibility or higher operational costs [@yan2011impact]. These patterns suggest that building type significantly influences subsidy distribution. Given the numerous categories of building types, a de tailed analysis is warranted to fully understand these trends.

```{r}
#| label: fig-relationbldgtype
#| fig-cap: "Proportional Distribution of Subsidy Status Across Building Types"
#| echo: false
#| message: false
#| warning: false
ggplot(data, aes(x = bldg_type, fill = as.factor(subsidy))) +
  geom_bar(position = "fill", alpha = 0.8) +
  scale_fill_manual(values = c("blue", "red")) +
  labs(
    x = "Building Type",
    y = "Proportion",
    fill = "Subsidy Status"
  ) +
  theme_minimal() +
  theme(
    axis.text.x = element_text(angle = 90, hjust = 1),  # Rotate x-axis labels for readability
    plot.title = element_text(size = 12),
    axis.title = element_text(size = 10),
    axis.text = element_text(size = 9)
  )

```

@fig-relationAuspice illustrates the proportional distribution of subsidy status (1 = Subsidized, 0 = Not Subsidized) across the different operating auspices of licensed child care centres: Commercial Agency, Non-Profit Agency, and Other. Non-Profit Agencies and "Other" entities are predominantly subsidized, while Commercial Agencies display a more balanced distribution. This aligns with research indicating that non-profits rely heavily on subsidies to deliver public goods and services, as they often operate in markets with limited profitability [@hansmann1979role]. Conversely, commercial entities are less reliant on subsidies due to their revenue-driven models.The dominance of subsidies in the "Other" category suggests this group may include hybrid or public-private organizations aligned with specific government initiatives [@anheier2014nonprofit]. Such reliance reflects the strategic use of subsidies to support services underserved by the private market [@weisbrod2000profit].

```{r}
#| label: fig-relationAuspice
#| fig-cap: "Proportional Distribution of Subsidy Status by Auspice"
#| echo: false
#| message: false
#| warning: false

ggplot(data, aes(x = AUSPICE, fill = as.factor(subsidy))) +
  geom_bar(position = "fill", alpha = 0.8) +
  scale_fill_manual(values = c("blue", "red")) +
  labs(
    x = "Auspice",
    y = "Proportion",
    fill = "Subsidy Status"
  ) +
  theme_minimal() +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),  # Rotate x-axis labels for readability
    plot.title = element_text(size = 12),
    axis.title = element_text(size = 10),
    axis.text = element_text(size = 9)
  )
```

@fig-key a heatmap illustrates the correlations between three variables: TOTSPACE (likely representing total space or capacity), subsidy (indicating subsidy status or amount), and cwelcc_flag (potentially denoting eligibility for a specific program or funding).  The positive correlation between TOTSPACE and subsidy (0.25) suggests that larger facilities are modestly more likely to receive subsidies, reflecting their capacity to serve larger populations or provide greater public benefits.  This aligns with research indicating that larger organizations often have the resources and visibility to secure subsidies (Hansmann, 1980;  Salamon, 2002).  Additionally, the stronger correlation between subsidy and cwelcc_flag (0.48) highlights that subsidy allocation may target entities meeting specific programmatic or policy criteria, consistent with the literature emphasizing strategic targeting of subsidies to maximize societal impact (Weisbrod, 1998). The weaker correlation between TOTSPACE and cwelcc_flag (0.17) suggests that program eligibility is less dependent on size and more on qualitative factors like service type or demographic focus, which is supported by Anheier’s (2005) analysis of non-profit funding models.  Together, these correlations emphasize the nuanced role of subsidies in balancing operational scale and policy alignment, underscoring the importance of strategic allocation in public funding (Salamon, 1995).


```{r}
#| label: fig-key
#| fig-cap: "Correlation Heatmap of Key Variables: TOTSPACE, Subsidy, and CWELCC Flag"
#| echo: false
#| message: false
#| warning: false

cor_matrix <- cor(data %>% select(TOTSPACE, subsidy, cwelcc_flag), use = "complete.obs")
ggcorrplot(cor_matrix, lab = TRUE)

```

# Model {#sec-model}

## Model Specification

To investigate the factors influencing subsidy allocation to licensed child care centres, a reduced logistic regression model was specified. The dependent variable,`subsidy`, is a binary indicator representing whether a child care centre receives government subsidy (1 = subsidized, 0 = not subsidized). The model includes three key predictors:

`Operating Auspice (AUSPICE)`: A categorical variable indicating the governance model of the child care centre (e.g., Non-Profit Agency, Other). Non-profit agencies are hypothesized to be positively associated with subsidy allocation, consistent with previous research emphasizing their prioritization in funding schemes (Cleveland & Krashinsky, 2005).

`Participation in the CWELCC Program (cwelcc_flag)`: A binary variable capturing whether the centre participates in the Canada-Wide Early Learning and Child Care program (1 = participates, 0 = does not participate). Centres participating in this initiative are expected to have higher odds of receiving subsidies due to their alignment with government objectives of affordability and accessibility (Friendly & Ballantyne, 2022).

`Total Space (TOTSPACE)`: A continuous variable representing the number of licensed spaces available in the centre. Larger centres are hypothesized to have higher odds of subsidy allocation, as they can accommodate more families and align with policy goals of maximizing access [@].

The logistic regression model can be expressed mathematically as follows:

$$
\text{logit}(P(Y=1)) = \beta_0 + \beta_1 (\text{Non-Profit Auspice}) + \beta_2 (\text{CWELCC Participation}) + \beta_3 (\text{Total Space})
$$

Where:

\begin{itemize}
    \item \( P(Y=1) \): The probability that a child care center receives a subsidy (\( Y=1 \)).
    \item \( \text{logit}(P(Y=1)) \): The log-odds of receiving a subsidy, defined as:
    \[
    \text{logit}(P(Y=1)) = \ln\left(\frac{P(Y=1)}{1 - P(Y=1)}\right)
    \]
    This transformation ensures that the predicted probabilities remain between 0 and 1.
\end{itemize}

### Parameters:

1. **$\beta_0$ (Intercept):**

   - Represents the baseline log-odds of subsidy allocation when all predictors are set to their reference categories or zero values.
   - It provides the starting point for predicting subsidy probabilities.

2. **$\beta_1$ (Non-Profit Auspice):**

   - Measures the effect of a center being operated as a non-profit compared to the baseline (e.g., commercial auspice) on the log-odds of subsidy allocation.
   - A positive $\beta_1$ increases the likelihood of receiving a subsidy for non-profit centers relative to the reference group.

3. **$\beta_2$ (CWELCC Participation):**
   - Captures the influence of participating in the Canada-Wide Early Learning and Child Care (CWELCC) program on the log-odds of subsidy allocation.

4. **$\beta_3$ (Total Space):**
   - Represents the effect of the number of licensed child care spaces (a continuous variable) on the log-odds of subsidy allocation.

5. **$\epsilon$ (Error Term):**
   - Accounts for unexplained variation in the log-odds of subsidy allocation not captured by the predictors

## Model Justification 

The logistic regression model was chosen for this analysis because it is well-suited to the binary nature of the dependent variable, subsidy status (1 = Subsidized, 0 = Not Subsidized). A logistic regression model using the binomial family is specifically designed to model dichotomous outcomes by estimating the log-odds of the event occurring as a linear function of predictor variables [@hosmer2013applied]. The binomial family is appropriate here because it assumes that the dependent variable follows a Bernoulli distribution, where each observation represents a binary outcome (subsidized or not subsidized). This ensures that the predicted probabilities remain between 0 and 1, aligning with the real-world constraints of the problem. Additionally, logistic regression provides interpretable coefficients, which indicate the direction and magnitude of the relationship between each predictor and the log-odds of subsidy allocation. This makes it particularly useful for guiding policy decisions, as coefficients can be directly converted into odds ratios for actionable insights [@peng2002introduction].

The ward variable was excluded because it lacked statistical significance and added redundancy, as its effects were captured by other predictors like CWELCC participation and total space. Additionally, ward had no strong theoretical justification as a direct determinant of subsidy allocation. The building type variable was removed due to high dimensionality, sparse representation in many categories, and statistical insignificance. Its effects are likely mediated by other variables, such as total space and auspice. Excluding it improved parsimony and interpretability.

The final model retained operating auspice, CWELCC participation, and total space, as these predictors are strongly supported by theory and data. This approach balances simplicity and accuracy, ensuring the model remains relevant for informing equitable subsidy allocation policies.

## Model Assumptions

Detailed model assumption check is in @sec-model-details. 

## Alternative Models

Alternative models like decision trees and random forests were considered but were found less interpretable for policy-focused analyses. Logistic regression was chosen for its balance of simplicity, interpretability, and effectiveness.

# Results {#sec-results}

The logistic regression model’s performance metrics are presented in @tbl-coefresult. 

```{r,echo=FALSE, message=FALSE, warning=FALSE}
#| label: tbl-coefresult
#| echo: false
#| warning: false
#| message: false
#| tbl-cap: "Regression Result"

# Load model 
model <- readRDS(file = here("models","final_model.rds"))

# Regression table with standard errors and p-values
model_list <- list(
  "Final Model" = model
)

modelsummary(
  model_list, 
  statistic = c("std.error", "p.value")
)

```

The regression model reveals several key observations regarding the predictors and overall goodness of fit.  The intercept, estimated at -4.967, represents the baseline log-odds of the outcome when all predictors are at their reference or zero level.  While not directly interpretable, it serves as a baseline reference for the model.  Among the predictors, the AUSPICE: Non-Profit Agency category significantly increases the log-odds of the outcome, with an estimate of 2.883 and a small standard error of 0.234, indicating a strong and reliable positive effect.  However, the AUSPICE: Other category shows an unusually large coefficient (18.772) paired with a very high standard error (686.847), suggesting instability.  The CWELCC Flag variable also exhibits a strong and reliable positive effect, with an estimate of 3.156 and a standard error of 0.436, indicating that being flagged as CWELCC significantly increases the log-odds of the outcome.  Additionally, the TOTSPACE variable has a small but statistically significant effect, with an estimate of 0.014 and a low standard error of 0.003, reflecting robustness. In terms of model fit, the dataset includes 750 observations, and the model's AIC (528.1) and BIC (551.2) suggest a reasonable balance between goodness of fit and complexity, as lower values are generally preferred [@burnhammodel].  The log-likelihood of -259.035 also supports an adequate fit, with a higher (less negative) value indicating better alignment between the model and the data.  Finally, the RMSE of 0.32 reflects the model's predictive accuracy, with a low value indicating that the model's predictions closely match the observed data.  Overall, the model performs well but may require refinement, particularly in addressing instability in the AUSPICE: Other variable.
@fig-cp further visualizes the significance of predictors.

```{r}
#| label: fig-cp
#| fig-cap: "Coefficient Plot"
#| echo: false
#| message: false
#| warning: false

# Extract coefficients and confidence intervals
tidy_model <- broom::tidy(model, conf.int = TRUE)

# Highlight significant coefficients
tidy_model <- tidy_model %>%
  mutate(significant = ifelse(conf.low > 0 | conf.high < 0, "Significant", "Not Significant"))

# Plot with enhancements
ggplot(tidy_model, aes(x = estimate, y = reorder(term, abs(estimate)), color = significant)) +
  geom_point() +
  geom_errorbarh(aes(xmin = conf.low, xmax = conf.high), height = 0.2) +
  scale_color_manual(values = c("Significant" = "red", "Not Significant" = "black")) +
  labs(
    title = "Coefficient Plot",
    x = "Coefficient Estimate",
    y = "Predictor Variables",
    color = "Significance"
  ) +
  theme_minimal()
```

The evaluation of the logistic regression model shows strong performance based on McFadden’s $R^2$ and the Area Under the Receiver Operating Characteristic Curve (AUC). McFadden’s $R^2$ which is a pseudo-$R^2$ metric specifically designed for logistic regression, was calculated as 0.454. This value suggests that the model explains 45.4% of the variance in the outcome variable, indicating a well-fitting model. Values between 0.2 and 0.4 are considered indicative of a good model fit, and values above 0.4 demonstrate an excellent fit. Thus, the model's $R^2$ value strongly supports its utility in predicting the outcome.

```{r}
#| label: fig-roc
#| fig-cap: "ROC Curve for Model Performance"
#| echo: false
#| message: false
#| warning: false

# ROC Curve and AUC
roc_curve <- roc(data$subsidy, 
                 predict(model, 
                         newdata = data, type = "response"))
plot(roc_curve, main = "ROC Curve", print.auc=T)
```

The ROC curve in @fig-roc shown further validates the model's classification ability, with an AUC of 0.8998. An AUC value close to 1 indicates excellent discriminative power, where the model effectively separates true positives from false positives. The AUC of 0.8998 places this model on the borderline of very good and excellent discrimination, underscoring its robust predictive capacity.

```{r}
#| label: fig-pvo
#| fig-cap: " Predicted vs. Observed Probability"
#| echo: false
#| message: false
#| warning: false
# Generate predicted probabilities for the test dataset
data$predicted_prob <- predict(model, newdata = data, type = "response")

# Predicted vs. Observed Scatterplot
ggplot(data, aes(x = predicted_prob, y = subsidy)) +
  geom_jitter(width = 0.02, height = 0.02, alpha = 0.6, color = "blue") +
  geom_smooth(method = "loess", color = "red", se = FALSE) +
  labs(
    x = "Predicted Probability",
    y = "Observed Outcome"
  ) +
  theme_minimal()
```

@fig-pvo provides a visual representation of the alignment between the predicted probabilities generated by the logistic regression model and the actual observed binary outcomes. This diagnostic tool is crucial for assessing the model's calibration and predictive accuracy, as emphasized by Harrell [@harrell2012regression]. The x-axis shows the predicted probabilities ranging from 0 to 1, while the y-axis represents the observed outcomes, where 0 indicates the absence of an event and 1 indicates its presence. The red diagonal line serves as the reference for perfect calibration, where predicted probabilities perfectly match observed outcomes.

The clustering of blue points near 0 and 1 along the y-axis indicates that the model effectively distinguishes between the two classes, a key goal in binary classification modeling. This observation aligns with the high AUC value of 0.8998 observed in the ROC curve, which demonstrates the model’s excellent discriminative ability. Additionally, points near the diagonal line further suggest strong calibration, where the predicted probabilities closely align with actual outcomes. The concentration of blue points at the extremes of 0 and 1 highlights that the model makes confident and accurate predictions in many cases

However, some dispersion is observed at lower predicted probabilities, particularly around 0.25 and 0.5. These deviations may reflect cases where the model struggles to classify outcomes or makes less confident predictions. Such discrepancies could indicate areas where further refinement of the model or predictors is necessary. These deviations could also be linked to specific subgroups or predictor interactions, necessitating additional diagnostics or recalibration [@steyerberg2010assessing].

Overall, this graph demonstrates that the model is well-calibrated and effective in its predictions, with minor limitations at lower probability levels. The close alignment of predictions with observed outcomes supports the model's reliability in classification tasks. This interpretation aligns with other metrics, such as McFadden’s $R^2$ and AUC, which indicate robust overall model performance while pointing to opportunities for refinement. Including this visualization in the results section provides a clear and data-driven assessment of the model's strengths and areas for potential improvement.

# Discussion {#sec-discussion}

Subsidy allocation to licensed child care centres in Toronto addresses the critical issue of affordability, making high-quality early childhood education accessible to more families as licensed centres must meet strict safety, staffing, and programming standards, which foster children’s cognitive, social, and emotional growth [@cleveland2009nonprofit]. Without subsidies, the cost of regulated care can be prohibitive, particularly for low-income households. This paper undertakes a detailed examination of the factors influencing subsidy allocation to licensed child care centres in Toronto, leveraging the City of Toronto's Licensed Child Care Centres dataset from Open Data porta, which includes detailed information about 1,071 licensed centers[@citeopendatatoronto]. This study employs a logistic regression model-binomial family to identify relationships between key predictor variables and the binary dependent variable – receiving subsidies.

The dataset underwent meticulous preprocessing to ensure reliability and accuracy for analysis. This involved several key steps of data cleaning, variable transformation and training-test Split. Initially, variables of Operating auspice(AUSPICE), ward, building type(bldg_type), total space(TOTSPACE) and participation status in programs(cwelcc_flag) were chosen based their relevance and practical influence subsidy outcomes and forecasting supported by scholar literatures. After fitting and improving the model using stepwise selection based on the Akaike Information Criterion (AIC), non-significant variables (ward and building type(bldg_type)) were removed. The final model retained Operating Auspice, CWELCC Participation, and Total Licensed Capacity as key predictors. The assumptions underpinning the logistic regression model were thoroughly validated, ensuring its statistical rigor and reliability. Independence of observations was confirmed, as each data point corresponds to a unique child care centre, eliminating concerns of clustering or dependency. Linearity between continuous predictors, such as Total Licensed Capacity, and the logit transformation was validated through component + residual plots, which revealed consistent patterns, supporting the appropriateness of the model. Additionally, multicollinearity was minimized, with Variance Inflation Factor (VIF) values well below the critical threshold of 5, indicating that the predictors are independent and the coefficient estimates are stable. Together, these validations affirm the robustness of the model and its suitability for the analysis.

The result coefficients in table the logistic regression model provide a detailed understanding of how key predictors influence the likelihood of subsidy allocation to licensed child care centres in Toronto. By measuring the change in log-odds of subsidy allocation associated with each predictor, the model quantifies the relative importance of governance models, program participation, and operational capacity. The coefficient for Non-Profit Auspice emerged as strongly positive and statistically significant, indicating that non-profit child care centres are far more likely to receive subsidies than commercial or public centres. This is reflective of policy priorities that favor organizations with a social mission over those with profit-oriented objectives. Non-profits are often viewed as better aligned with public goals of equity and accessibility, as they reinvest surplus revenues into improving care quality rather than distributing profits [@hansmann1980role]. This is consistent with research by [@salamon1995partners], who noted that non-profits often fill critical gaps in the provision of public services, making them natural candidates for targeted funding. In the context of child care, non-profits may also be more likely to serve economically vulnerable populations, further justifying their prioritization for subsidies. The odds ratio derived from this coefficient underscores the strength of this relationship, suggesting that non-profit centres are several times more likely to receive subsidies compared to commercial centres. Participation in the Canada-Wide Early Learning and Child Care (CWELCC) program was the most significant predictor in the model, with a highly positive coefficient. This result highlights the critical role of policy alignment in subsidy allocation. Centres participating in CWELCC demonstrate compliance with national and provincial affordability initiatives, making them high-priority recipients of government funding. Research by [@bennett2011working] supports this finding, emphasizing that early childhood programs aligned with broader governmental objectives are often better positioned to secure resources. The odds ratio for CWELCC participation indicates that such centres are substantially more likely to receive subsidies, which is consistent with targeted funding strategies aimed at expanding access to high-quality, affordable child care [@kaga2010caring]. Total Licensed Capacity (TOTSPACE), representing the number of spaces a centre is licensed to operate, was another important predictor, although its coefficient was smaller in magnitude compared to governance and CWELCC participation. This positive coefficient suggests that larger centres are more likely to receive subsidies, likely due to their capacity to serve more families and their operational scale. Larger centres can achieve economies of scale and often have greater visibility, making them attractive candidates for public funding [@weisbrod1998profit]. However, the smaller effect size of this variable indicates that capacity alone is insufficient to determine subsidy allocation. This finding aligns with [@penn2011quality], who argues that while capacity is an important practical consideration, other factors—such as governance and programmatic alignment—carry more weight in funding decisions. Interpreting these coefficients through odds ratios further clarifies their impact. For instance, the odds ratio for CWELCC participation suggests that centres in the program are several times more likely to receive subsidies compared to non-participating centres, holding other factors constant. Similarly, the odds ratio for non-profit governance reinforces the preferential treatment of non-profits in subsidy allocation policies. These findings align with the broader literature on public funding, which emphasizes the strategic use of subsidies to support centres that meet both operational and policy criteria [@penn2011quality]. The statistical significance of these coefficients underscores their reliability as shown in figure. Variables such as Non-Profit Auspice and CWELCC Participation demonstrated small standard errors and strong significance levels, reinforcing their influence on subsidy allocation. In contrast, variables with less consistent effects, such as certain building types or governance categories in the "Other" category, exhibited instability, suggesting that their role in funding decisions may be more context-specific or secondary. The model's findings highlight a strategic approach to subsidy allocation, where funding decisions are guided by alignment with policy goals, operational capacity, and governance structures. 

The logistic regression model applied in this research proves to be an ideal tool for analyzing subsidy allocation to licensed child care centres in Toronto, particularly due to its capacity to handle binary outcomes effectively. By modeling the log-odds of an event, logistic regression ensures predicted probabilities remain between 0 and 1, aligning seamlessly with the binary nature of the dependent variable—whether a centre receives a subsidy. This feature makes the model both statistically appropriate and easy to interpret. A notable strength of the model lies in its interpretability. Coefficients can be transformed into odds ratios, providing a clear understanding of how predictors influence the likelihood of receiving subsidies. For example, the positive coefficients for Non-Profit Auspice and CWELCC Participation underscore their significant, policy-relevant impact on subsidy distribution. This clarity makes the model particularly valuable for stakeholders and policymakers who require actionable and easily communicated insights. The model's performance metrics further demonstrate its effectiveness. A McFadden's R² value of 0.454 indicates that the model explains a substantial portion of the variance in subsidy allocation. Additionally, the Area Under the Curve (AUC) of 0.8998 highlights the model’s exceptional discriminative ability, confirming its capacity to accurately differentiate between subsidized and non-subsidized centres. The low Root Mean Squared Error (RMSE) of 0.32 further attests to the model’s strong predictive performance. Together, these metrics validate the model's reliability and robustness. Another key advantage of logistic regression is its simplicity compared to more complex approaches such as random forests or decision trees. While those alternatives might offer marginally higher predictive power, they lack the transparency and interpretability required for policy-focused research. Logistic regression strikes a critical balance between accuracy and clarity, making it a practical choice for guiding equitable subsidy allocation strategies. Moreover, the flexibility of logistic regression allows for extensions to explore more intricate relationships. For instance, incorporating interaction terms or temporal data could provide deeper insights while maintaining the model's usability. This adaptability ensures the model remains relevant and applicable as policy environments evolve.

Our model, while effective, has several limitations that warrant consideration. One of the primary limitations is its reliance on the assumption of linearity between predictors and the log-odds of the outcome. Although this assumption is often reasonable, it may oversimplify complex, non-linear relationships that can exist in real-world phenomena such as subsidy allocation. As [@harrell2015regression] notes, failing to capture these non-linear relationships can lead to biased estimates and limit the model’s predictive power. Another limitation is the model’s dependence on correct specification of predictors. Excluding relevant variables or including irrelevant ones in initial variable selection can result in omitted variable bias or overfitting, respectively. Additionally, the model does not inherently account for higher-order interactions unless explicitly included.  For instance, the combined effect of Non-Profit Auspice and CWELCC Participation could provide valuable insights into how policy and governance jointly influence subsidy allocation. [@hosmer2013applied] highlight that logistic regression can oversimplify complex relationships if interaction terms are not considered, potentially leading to incomplete conclusions. Finally, the static nature of the model is another drawback.  Logistic regression provides a snapshot of relationships at a single point in time, failing to capture temporal dynamics or policy changes that can influence subsidy allocation over time.  As Singer and [@singer2003applied] suggest, incorporating longitudinal data could provide a more nuanced understanding of how these relationships evolve.

Future studies could address the limitations of this research by adopting more advanced modeling techniques and incorporating additional data to better capture the complexities of subsidy allocation. Introducing non-linear models or machine learning approaches, such as random forests or gradient boosting, could uncover hidden patterns and interactions between predictors that logistic regression may overlook. Additionally, exploring interaction terms, such as the joint effects of governance models and program participation, could provide more nuanced insights into policy impacts. Longitudinal data would be particularly valuable for understanding how subsidy allocation evolves over time, especially in response to policy changes or shifts in economic conditions. Incorporating time-series or panel data analysis could reveal temporal dynamics and provide a richer understanding of causal relationships. Geographic disparities, noted but not deeply explored in this study, could also be addressed using spatial regression or multilevel models to account for regional clustering and unobserved local factors influencing subsidy distribution. Finally, integrating additional predictors, such as demographic variables, socio-economic indicators, or quality ratings of child care centres, could enhance the explanatory power of future models. These enhancements would provide a more comprehensive view of subsidy allocation and inform strategies to ensure equitable and effective distribution of resources.

\newpage

\appendix

# Appendix {-}

# Model Assumption {#sec-model-details}

To ensure the validity of the logistic regression model, several key assumptions were assessed, including independence of observations, the appropriateness of a binary outcome, the linearity of predictors with the logit and absence of multicollinearity. The analysis integrates results from visual diagnostics, multicollinearity tests, and statistical measures.

### 1. Independence of Observations

The logistic regression model assumes that the observations are independent of each other. In this analysis, each data point corresponds to an individual child care center, ensuring independence. There is no clustering or repeated measures within the dataset, which validates this assumption.

### 2. Binary Outcome

The logistic regression model assumes a binary dependent variable. In this case, the outcome variable, `subsidy`, is binary, indicating whether a child care center receives a subsidy (1 = Subsidized, 0 = Not Subsidized). This aligns with the model's requirement, ensuring the suitability of the binomial family for fitting the data.

### 3. Linearity of Predictors with the Logit

The @fig-cr The component + residual plots evaluate the linearity of the continuous variables and the relationship between categorical predictors and the logit transformation.

```{r}
#| label: fig-cr
#| fig-cap: "CR Plot for Linearity Chekck"
#| echo: false
#| message: false
#| warning: false
# Customizing Component + Residual Plots with concise y-axis label
crPlots(model, ylab = "Component+Residuals")  # Shortened y-axis label
```

- `TOTSPACE`: The relationship between the total space (TOTSPACE) and the logit appears approximately linear, as indicated by the flat, consistent pattern of residuals around the horizontal axis. This supports the assumption of linearity.

- `CWELCC Flag`: The plot for CWELCC participation shows a horizontal trend, suggesting no significant deviation from linearity. The data support the inclusion of this variable as a binary predictor.

- `AUSPICE`: The residual patterns for categorical levels of AUSPICE (e.g., "Commercial Agency" and "Other") indicate distinct clusters with consistent variability. This suggests the categorical nature of this variable does not violate linearity assumptions.
Overall, the visual inspection suggests that the linearity assumption for the predictors with the logit is met.

### 4. Multicollinearity Assessment

Variance Inflation Factor (VIF):

To assess multicollinearity among the predictors, the VIF values for the reduced model variables were calculated.All VIF values are below 2, well within the acceptable threshold of 5, indicating minimal multicollinearity among the predictors. The independence of the predictors ensures the stability of the coefficient estimates.

```{r,echo=FALSE, results='hide', message=FALSE, warning=FALSE}
# Calculate VIF
vif_values <- vif(model)
```

# Observational Data Methodology for Licensed Child Care Centres in Toronto 

## Population, Frame, and Sample

### Population

The population includes all licensed child care centres in Toronto as recorded in the publicly available dataset provided by Open Toronto. This population aligns with studies on regulated child care, such as [@morrissey2010childcare], which emphasizes the role of licensing in ensuring quality and safety in early childhood education. However, the dataset excludes unlicensed child care providers, limiting its scope. 
Represented Groups: Centres adhering to provincial licensing requirements, as emphasized by Cleveland and Krashinsky [@cleveland2003benefits], who note that licensed care is generally associated with higher quality standards.

Excluded Groups: Informal and unlicensed providers, which disproportionately to lower-income families and those in rural or underserved urban areas.

### Frame

The dataset represents a comprehensive census of licensed child care centres, reflecting administrative records compiled by the city. 

Strengths: Comprehensive coverage reduces selection bias and enhances geographic representativeness.

Limitations: Static data may fail to capture temporal variations or operational changes, a common limitation noted in administrative datasets.

### Sample

The dataset uses census sampling of licensed child care centres, ensuring inclusion of all facilities within the licensing framework.

Advantages: Census data minimizes sampling error and provides a reliable basis for spatial and capacity analysis.

Drawbacks: Lack of informal care data may lead to underrepresentation of actual child care resources, echoing findings by [@tekin2007childcare] that informal care plays a critical role in many families’ child care arrangements.

## Data Collection Methodology

### Observational Data Compilation

The dataset is derived from municipal administrative records, which are considered reliable for policy analysis [@cleveland2003benefits]. Licensing authorities collect this data as part of routine compliance monitoring, ensuring high accuracy.

Strengths: Administrative data is less prone to recall bias compared to survey data.

Weaknesses: Lack of qualitative insights into service quality or user satisfaction.

### Non-response Handling

While the dataset does not involve survey non-response, its exclusion of unlicensed providers creates a systematic gap. Research by Fuller et al. [@fuller1996family] shows that informal care often fills critical voids in underserved areas, and its exclusion may understate the full scope of child care provision.

## Sampling Approach and Trade-offs

### Strengths

Comprehensive Coverage: Census sampling ensures no licensed centres are omitted.
Geospatial Precision: Geographic coordinates support advanced spatial analysis, aligning with studies like [@larsen2015accessibility] on urban accessibility.

High Validity: Licensing records provide robust validity, as they are subject to regulatory verification [@cleveland2003benefits].

### Limitations

Exclusion of Informal Care: Research by Morrissey [@morrissey2010childcare] highlights that informal care is often preferred for flexibility or affordability, making its exclusion a significant limitation.
Static Nature: The lack of longitudinal data limits the ability to analyze trends.
Regulatory Bias: Centers excluded due to non-compliance may disproportionately represent marginalized communities.

## Observational Bias and Measurement Challenges

### Observational Bias

Biases inherent in observational datasets include selection bias (due to licensing criteria) and survivorship bias (exclusion of closed centres). 

### Measurement Challenges

Geographic Aggregation: Aggregating data to broader areas can obscure micro-level disparities.
Capacity Limitations: Reported capacities may not reflect actual utilization or unmet demand, as noted by [@blau2006preschool].

## Methodological Enhancements and Recommendations

### Enhancements

Incorporating Temporal Data: Adding longitudinal data could enable trend analysis, echoing the approach of [@fuller1996family].

Integration with Demographics: Linking with census data would allow for equity analysis, consistent with the methodology used by [@larsen2015accessibility].

### Recommendations

Addressing Informal Care: Future studies should integrate data from community surveys to include informal providers, as suggested by [@morrissey2010childcare].

Dynamic Updates: Regular updates to administrative records would enhance relevance, a recommendation supported.

Geospatial Enhancements: Including data on transit access or neighborhood socioeconomic conditions could enrich spatial analyses, aligning with findings by [@tekin2007childcare]

\newpage


# References


